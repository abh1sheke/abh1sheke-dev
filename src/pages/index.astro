---
import RootLayout from "../layouts/RootLayout.astro";
import Navbar from "../lib/components/Navbar.astro";
---

<RootLayout>
    <Navbar />
    <main class="min-h-[1000px] bg-dark-800 pt-16">
        <div class="mx-auto text-cool-100 w-[530px] pt-20">
            <h2
                id="greeting-text"
                data-lang="en"
                class="overflow-hidden text-3xl font-extrabold inline-block text-blaze-300 w-2/3"
            >
            </h2>
            <h1 class="inline-block font-semibold">
                <span class="text-cool-400 text-3xl">I&apos;m</span>
                <span class="text-5xl font-black ml-2">Abhisheke Acharya</span>
            </h1>
            <div class="mt-8 text-lg">
                <p>
                    I'm a 20 year old Software Engineer. I enjoying making <span
                        class="font-extrabold text-cool-600">(</span
                    ><span class="font-semibold italic"
                        >and sometimes breaking</span
                    ><span class="font-extrabold text-cool-600">)</span> software;
                    especially cool little applications for the internet.
                </p>
                <p class="mt-4">
                    I also lift heavy circles, write <span
                        class="text-cool-600 font-extrabold">(</span
                    ><span class="font-semibold">mediocre</span><span
                        class="text-blaze-500 font-extrabold">*</span
                    ><span class="text-cool-600 font-extrabold">)</span> blogs, listen
                    to a ton of experimental music and read a bit of philosophy in
                    my free time.
                </p>
            </div>
        </div>
    </main>
</RootLayout>

<style>
    @keyframes greeting {
        from {
            width: 0;
        }
        to {
            width: 92.4px;
        }
    }

    @keyframes blinkTextCursor {
        from {
            border-right-color: rgba(255, 255, 255, 0.75);
        }
        to {
            border-right-color: transparent;
        }
    }

    .animate-greeting {
        animation: greeting 2s steps(12) 1s 1 normal both,
            blinkTextCursor 500ms steps(12) infinite normal;
    }
    a span[data-lang="ar"] {
        direction: rtl;
    }
</style>

<script lang="ts">
    const greetings = [
        { lang: "en", t: "Hello there" },
        { lang: "jp", t: "こんにちは" },
        { lang: "ar", t: "مرحبًا" },
        { lang: "gr", t: "Guten tag" },
        { lang: "tm", t: "வணக்கம்" },
        { lang: "kr", t: "안녕하세요" },
        { lang: "es", t: "Hola" },
        { lang: "hi", t: "नमस्ते" },
        { lang: "fr", t: "Bonjour" },
        { lang: "ch", t: "你好" },
    ];

    function setGreeting(greetingData, i) {
        setTimeout(() => {
            const greeting = document.getElementById("greeting-text");
            greeting.dataset.lang = greetingData.lang;
            greeting.innerText = `${greetingData.t}!`;
        }, 700 * i);
    }

    for (let i = 0; i <= greetings.length; i++) {
        if (!greetings[i]) {
            setGreeting(greetings[0], i);
        } else {
            setGreeting(greetings[i], i);
        }
    }
</script>
